关于邮件系统的支持, 有以下三个方面:

1. python -> smtpd: 一个简单的邮件服务器模块, 也就是, 可以据此, 自己写一个邮件服务器

2. python -> smtplib: 仅仅只是一个向邮件服务器推送邮件信息的模块

3. python -> poplib: 仅仅只是一个从邮件服务器获取邮件信息的模块


如何开发一个邮件服务器呢?
不管是邮件服务器还是web服务器, 都是基于tcp传输的, 也就是, 最底层都是使用socket套接字的形式;
但是两种服务器因为面向的功能不同, 所以在设计的时候, 需要遵循不同的协议, 以保证使用这两种服务器的客户端能够有针对性的传输数据;
邮件服务器在传输数据方面的协议是SMTP, 也就是说, 在设计邮件服务器的时候, 需要根据SMTP协议, 实现各种响应的处理, 针对性的处理客户端数据的传输;
WEB服务器在传输数据方面的协议是HTTP, 同样, 在设计WEB服务器的时候, 需要根据HTTP协议, 实现各种响应的处理, 比如GET, POST 

邮件服务器要实现的功能如下:
与本地客户端通信, 接收本地客户端所发来的邮件
    所以, 本地的客户端发送邮件给邮件服务器时, 需要告诉邮件服务器, 我这个邮件是发给谁的, 邮件头信息, 邮件正文信息, 邮件附件信息
    服务器在得到本地客户端这些信息后, 进行分析, 然后发送给指定的远程邮件服务器.
与远程邮件服务器通信, 发送本地客户端的邮件给远程邮件服务器



SMTP的基本命令
SMTP定义了14个命令，它们是：
HELO <SP> <domain> <CRLF>
MAIL <SP> FROM:<reverse-path> <CRLF>
RCPT <SP> TO:<forward-path> <CRLF>
DATA <CRLF>
RSET <CRLF>
SEND <SP> FROM:<reverse-path> <CRLF>
SOML <SP> FROM:<reverse-path> <CRLF>
SAML <SP> FROM:<reverse-path> <CRLF>
VRFY <SP> <string> <CRLF>
EXPN <SP> <string> <CRLF>
HELP [<SP> <string>] <CRLF>
NOOP <CRLF>
QUIT <CRLF>
TURN <CRLF>
其中使得SMTP工作的基本的命令有7个，分别为：HELO﹑MAIL﹑RCPT﹑DATA﹑REST﹑NOOP和QUIT．下面分别介绍如下。

1. HELO--发件方问候收件方，后面是发件人的服务器地址或标识。收件方回答OK时标识自己的身份。问候和确认过程表明两台机器可以通信，同时状态参量被复位，缓冲区被清空

2. MAIL--这个命令用来开始传送邮件，它的后面跟随发件方邮件地址（返回邮件地址）。它也用来当邮件无法送达时，发送失败通知。为保证邮件的成功发送，发件方的地址应是被对方或中间转发方同意接受的。这个命令会清空有关的缓冲区，为新的邮件做准备。

3. RCPT --这个命令告诉收件方收件人的邮箱。当有多个收件人时，需要多次使用该命令，每次只能指明一个人。如果接收方服务器不同意转发这个地址的邮件，它必须报 550错误代码通知发件方。如果服务器同意转发，它要更改邮件发送路径，把最开始的目的地（该服务器）换成下一个服务器。

4. DATA-- 收件方把该命令之后的数据作为发送的数据。数据被加入数据缓冲区中，以单独一行是"<CRLF>.<CRLF>"的行结束数据。结束行对于接收方同时意味立即开始缓冲区内的数据传送，传送结束后清空缓冲区。如果传送接受，接收方回复OK。

5. REST--这个命令用来通知收件方复位，所有已存入缓冲区的收件人数据，发件人数据和待传送的数据都必须清除，接收放必须回答OK.

6. NOOP--这个命令不影响任何参数，只是要求接收放回答OK, 不会影响缓冲区的数据。

7. QUIT--SMTP要求接收放必须回答OK，然后中断传输；在收到这个命令并回答OK前，收件方不得中断连接，即使传输出现错误。发件方在发出这个命令并收到OK答复前，也不得中断连接。


HELO是客户向对方邮件服务器发出的标识自己的身份的命令，这里假设发送者为ideal；
MAIL FROM命令用来表示发送者的邮件地址；
RCPT TO：标识接收者的邮件地址，这里表示希望发送邮件给XXX@163. COM，如果邮件接收者不是本地用户，例如RCPTTO:ideal，则说明希望对方邮件服务器为自己转发(Relay)邮件，若该机器允许转发这样的邮件，则表示该邮件服务器是OPENRELAY的，否则说明该服务器不允许RELAY；
DATA表示下面是邮件的数据部分，输入完毕以后，以一个"."开始的行作为数据部分的结束标识；
QUIT表示退出这次会话，结束邮件发送。
这就是一个简单的发送邮件的会话过程
